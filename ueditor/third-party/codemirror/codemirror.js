var CodeMirror=function(){function t(n,r){var c={},m=t.defaults;for(var M in m)m.hasOwnProperty(M)&&(c[M]=(r&&r.hasOwnProperty(M)?r:m)[M]);var L=c["document"],O=L.createElement("div");O.className="CodeMirror"+(c.lineWrapping?" CodeMirror-wrap":""),O.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>',n.appendChild?n.appendChild(O):n(O);var R=O.firstChild,Z=R.firstChild,J=O.lastChild,Q=J.firstChild,tt=Q.firstChild,et=tt.firstChild,nt=et.firstChild,rt=et.nextSibling.firstChild,it=rt.firstChild,ot=it.nextSibling,lt=ot.nextSibling;qe(),/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)&&(Z.style.width="0px"),I||(rt.draggable=!0),null!=c.tabindex&&(Z.tabIndex=c.tabindex),c.gutter||c.lineNumbers||(et.style.display="none");try{on("x")}catch(In){throw In.message.match(/runtime/i)&&(In=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),In}var at,st,ut,ft,ct=new W,ht=new W,dt=new v([new g([new p("")])]);Fe();var pt,mt,gt,vt,xt,yt,kt,wt,Ct,Mt,bt,St,Lt,At,zt={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Tt=!1,Et=0,Wt=0,Nt=0,Dt=0,Ht="",It=Ye();Dn((function(){Kt(c.value||""),xt=!1}))();var Ot,Rt=new C;E(J,"mousedown",Dn(jt)),E(J,"dblclick",Dn(Gt)),E(rt,"dragstart",_t),E(rt,"selectstart",S),D||E(J,"contextmenu",wn),E(J,"scroll",(function(){Ce([]),c.fixedGutter&&(et.style.left=J.scrollLeft+"px"),c.onScroll&&c.onScroll(Ut)})),E(window,"resize",(function(){Ce(!0)})),E(Z,"keyup",Dn(Jt)),E(Z,"input",de),E(Z,"keydown",Dn($t)),E(Z,"keypress",Dn(Zt)),E(Z,"focus",Qt),E(Z,"blur",te),E(J,"dragenter",A),E(J,"dragover",A),E(J,"drop",Dn(Yt)),E(J,"paste",(function(){ve(),de()})),E(Z,"paste",de),E(Z,"cut",Dn((function(){ae("")})));try{Ot=L.activeElement==Z}catch(In){}function Pt(t){return t>=0&&t<dt.size}Ot?setTimeout(Qt,20):te();var Ut=O.CodeMirror={getValue:Ft,setValue:Dn(Kt),getSelection:fe,replaceSelection:Dn(ae),focus:function(){ve(),Qt(),de()},setOption:function(t,e){var n=c[t];c[t]=e,"mode"==t||"indentUnit"==t?Fe():"readOnly"==t&&e?(te(),Z.blur()):"theme"==t?qe():"lineWrapping"==t&&n!=e?Dn(Ge)():"tabSize"==t&&Dn(_e)(),"lineNumbers"!=t&&"gutter"!=t&&"firstLineNumber"!=t&&"theme"!=t||Dn(je)()},getOption:function(t){return c[t]},undo:Dn(re),redo:Dn(ie),indentLine:Dn((function(t,e){Pt(t)&&Ke(t,null==e?"smart":e?"add":"subtract")})),indentSelection:Dn(Ve),historySize:function(){return{undo:Rt.done.length,redo:Rt.undone.length}},clearHistory:function(){Rt=new C},matchBrackets:Dn((function(){bn(!0)})),getTokenAt:Dn((function(t){return t=De(t),Bt(t.line).getTokenAt(st,Ln(t.line),t.ch)})),getStateAfter:function(t){return t=Ne(null==t?dt.size-1:t),Ln(t+1)},cursorCoords:function(t){return null==t&&(t=zt.inverted),dn(t?zt.from:zt.to)},charCoords:function(t){return dn(De(t))},coordsChar:function(t){var e=P(rt);return hn(t.x-e.left,t.y-e.top)},markText:Dn($e),setBookmark:Ze,setMarker:Dn(Je),clearMarker:Dn(Qe),setLineClass:Dn(en),hideLine:Dn((function(t){return nn(t,!0)})),showLine:Dn((function(t){return nn(t,!1)})),onDeleteLine:function(t,e){if("number"==typeof t){if(!Pt(t))return null;t=Bt(t)}return(t.handlers||(t.handlers=[])).push(e),t},lineInfo:rn,addWidget:function(t,e,n,r,i){t=cn(De(t));var o=t.yBot,l=t.x;if(e.style.position="absolute",Q.appendChild(e),"over"==r)o=t.y;else if("near"==r){var a=Math.max(J.offsetHeight,dt.height*pn()),s=Math.max(Q.clientWidth,rt.clientWidth)-yn();t.yBot+e.offsetHeight>a&&t.y>e.offsetHeight&&(o=t.y-e.offsetHeight),l+e.offsetWidth>s&&(l=s-e.offsetWidth)}e.style.top=o+xn()+"px",e.style.left=e.style.right="","right"==i?(l=Q.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(Q.clientWidth-e.offsetWidth)/2),e.style.left=l+yn()+"px"),n&&ke(l,o,l+e.offsetWidth,o+e.offsetHeight)},lineCount:function(){return dt.size},clipPos:De,getCursor:function(t){return null==t&&(t=zt.inverted),K(t?zt.from:zt.to)},somethingSelected:function(){return!B(zt.from,zt.to)},setCursor:Dn((function(t,e,n){null==e&&"number"==typeof t.line?We(t.line,t.ch,n):We(t,e,n)})),setSelection:Dn((function(t,e,n){(n?ze:Te)(De(t),De(e||t))})),getLine:function(t){if(Pt(t))return Bt(t).text},getLineHandle:function(t){if(Pt(t))return Bt(t)},setLine:Dn((function(t,e){Pt(t)&&le(e,{line:t,ch:0},{line:t,ch:Bt(t).text.length})})),removeLine:Dn((function(t){Pt(t)&&le("",{line:t,ch:0},De({line:t+1,ch:0}))})),replaceRange:Dn(le),getRange:function(t,e){return ue(De(t),De(e))},execCommand:function(t){return o[t](Ut)},moveH:Dn(Ie),deleteH:Dn(Oe),moveV:Dn(Pe),toggleOverwrite:function(){Tt=!Tt},posFromIndex:function(t){var e,n=0;return dt.iter(0,dt.size,(function(r){var i=r.text.length+1;if(i>t)return e=t,!0;t-=i,++n})),De({line:n,ch:e})},indexFromPos:function(t){if(t.line<0||t.ch<0)return 0;var e=t.ch;return dt.iter(0,t.line,(function(t){e+=t.text.length+1})),e},operation:function(t){return Dn(t)()},refresh:function(){Ce(!0)},getInputField:function(){return Z},getWrapperElement:function(){return O},getScrollerElement:function(){return J},getGutterElement:function(){return et}};function Bt(t){return x(dt,t)}function Vt(t,e){bt=!0;for(var n=e-t.height,r=t;r;r=r.parent)r.height+=n}function Kt(t){var e={line:0,ch:0};ee(e,{line:dt.size-1,ch:Bt(dt.size-1).text.length},q(t),e,e),xt=!0}function Ft(t){var e=[];return dt.iter(0,dt.size,(function(t){e.push(t.text)})),e.join("\n")}function jt(t){Ae(t.shiftKey);for(var n=z(t);n!=O;n=n.parentNode)if(n.parentNode==Q&&n!=tt)return;for(n=z(t);n!=O;n=n.parentNode)if(n.parentNode==nt)return c.onGutterClick&&c.onGutterClick(Ut,Y(nt.childNodes,n)+Wt,t),S(t);var r=kn(t);switch(T(t)){case 3:return void(D&&!e&&wn(t));case 2:return void(r&&We(r.line,r.ch,!0))}if(r){ft||Qt();var i=+new Date;if(gt&&gt.time>i-400&&B(gt.pos,r))return S(t),setTimeout(ve,20),Be(r.line);if(mt&&mt.time>i-400&&B(mt.pos,r))return gt={time:i,pos:r},S(t),Ue(r);mt={time:i,pos:r};var o,l=r;if(!N||B(zt.from,zt.to)||V(r,zt.from)||V(zt.to,r)){S(t),We(r.line,r.ch,!0);var a=E(L,"mousemove",Dn((function(t){clearTimeout(o),S(t),u(t)})),!0);s=E(L,"mouseup",Dn((function(t){clearTimeout(o);var e=kn(t);e&&ze(r,e),S(t),ve(),xt=!0,a(),s()})),!0)}else{I&&(rt.draggable=!0);var s=E(L,"mouseup",Dn((function(e){I&&(rt.draggable=!1),vt=!1,s(),Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(S(e),We(r.line,r.ch,!0),ve())})),!0);vt=!0}}else z(t)==J&&S(t);function u(t){var e=kn(t,!0);if(e&&!B(e,l)){ft||Qt(),l=e,ze(r,e),xt=!1;var n=we();(e.line>=n.to||e.line<n.from)&&(o=setTimeout(Dn((function(){u(t)})),150))}}}function Gt(t){for(var e=z(t);e!=O;e=e.parentNode)if(e.parentNode==nt)return S(t);var n=kn(t);n&&(gt={time:+new Date,pos:n},S(t),Ue(n))}function Yt(t){t.preventDefault();var e=kn(t,!0),n=t.dataTransfer.files;if(e&&!c.readOnly)if(n&&n.length&&window.FileReader&&window.File){function r(t,n){var r=new FileReader;r.onload=function(){o[n]=r.result,++l==i&&(e=De(e),Dn((function(){var t=le(o.join(""),e,e);ze(e,t)}))())},r.readAsText(t)}for(var i=n.length,o=Array(i),l=0,a=0;a<i;++a)r(n[a],a)}else try{o=t.dataTransfer.getData("Text");if(o){var s=le(o,e,e),u=zt.from,f=zt.to;ze(e,s),vt&&le("",u,f),ve()}}catch(t){}}function _t(t){var e=fe();j(e),t.dataTransfer.setDragImage(F,0,0),t.dataTransfer.setData("Text",e)}function qt(t){var e,n,r=$[t.keyCode],i=l[c.keyMap].auto;if(null==r||t.altGraphKey)return i&&(c.keyMap=i),null;if(t.altKey&&(r="Alt-"+r),t.ctrlKey&&(r="Ctrl-"+r),t.metaKey&&(r="Cmd-"+r),t.shiftKey&&(e=a("Shift-"+r,c.extraKeys,c.keyMap))?n=!0:e=a(r,c.extraKeys,c.keyMap),"string"==typeof e&&(e=o.propertyIsEnumerable(e)?o[e]:null),!i||!e&&s(t)||(c.keyMap=i),!e)return!1;if(n){var u=pt;pt=null,e(Ut),pt=u}else e(Ut);return S(t),!0}var Xt=null;function $t(t){ft||Qt();var n=t.keyCode;if(H&&27==n&&(t.returnValue=!1),Ae(16==n||t.shiftKey),!c.onKeyEvent||!c.onKeyEvent(Ut,b(t))){var r=qt(t);window.opera&&(Xt=r?t.keyCode:null,!r&&(e?t.metaKey:t.ctrlKey)&&88==t.keyCode&&ae(""))}}function Zt(t){if(window.opera&&t.keyCode==Xt)return Xt=null,void S(t);if((!c.onKeyEvent||!c.onKeyEvent(Ut,b(t)))&&(!window.opera||t.which||!qt(t))){if(c.electricChars&&st.electricChars){var e=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);st.electricChars.indexOf(e)>-1&&setTimeout(Dn((function(){Ke(zt.to.line,"smart")})),75)}de()}}function Jt(t){c.onKeyEvent&&c.onKeyEvent(Ut,b(t))||16==t.keyCode&&(pt=null)}function Qt(){c.readOnly||(ft||(c.onFocus&&c.onFocus(Ut),ft=!0,-1==O.className.search(/\bCodeMirror-focused\b/)&&(O.className+=" CodeMirror-focused"),Mt||ge(!0)),he(),Cn())}function te(){ft&&(c.onBlur&&c.onBlur(Ut),ft=!1,O.className=O.className.replace(" CodeMirror-focused","")),clearInterval(at),setTimeout((function(){ft||(pt=null)}),150)}function ee(t,e,n,r,i){if(Rt){var o=[];dt.iter(t.line,e.line+1,(function(t){o.push(t.text)})),Rt.addChange(t.line,n.length,o);while(Rt.done.length>c.undoDepth)Rt.done.shift()}oe(t,e,n,r,i)}function ne(t,e){var n=t.pop();if(n){var r=[],i=n.start+n.added;dt.iter(n.start,i,(function(t){r.push(t.text)})),e.push({start:n.start,added:n.old.length,old:r});var o=De({line:n.start+n.old.length-1,ch:G(r[r.length-1],n.old[n.old.length-1])});oe({line:n.start,ch:0},{line:i-1,ch:Bt(i-1).text.length},n.old,o,o),xt=!0}}function re(){ne(Rt.done,Rt.undone)}function ie(){ne(Rt.undone,Rt.done)}function oe(t,e,n,r,i){var o=!1,l=Ht.length;c.lineWrapping||dt.iter(t.line,e.line,(function(t){if(t.text.length==l)return o=!0,!0})),(t.line!=e.line||n.length>1)&&(bt=!0);var a=e.line-t.line,s=Bt(t.line),u=Bt(e.line);if(0==t.ch&&0==e.ch&&""==n[n.length-1]){var f=[],h=null;t.line?(h=Bt(t.line-1),h.fixMarkEnds(u)):u.fixMarkStarts();for(var d=0,m=n.length-1;d<m;++d)f.push(p.inheritMarks(n[d],h));a&&dt.remove(t.line,a,St),f.length&&dt.insert(t.line,f)}else if(s==u)if(1==n.length)s.replace(t.ch,e.ch,n[0]);else{u=s.split(e.ch,n[n.length-1]),s.replace(t.ch,null,n[0]),s.fixMarkEnds(u);for(f=[],d=1,m=n.length-1;d<m;++d)f.push(p.inheritMarks(n[d],s));f.push(u),dt.insert(t.line+1,f)}else if(1==n.length)s.replace(t.ch,null,n[0]),u.replace(null,e.ch,""),s.append(u),dt.remove(t.line+1,a,St);else{f=[];s.replace(t.ch,null,n[0]),u.replace(null,e.ch,n[n.length-1]),s.fixMarkEnds(u);for(d=1,m=n.length-1;d<m;++d)f.push(p.inheritMarks(n[d],s));a>1&&dt.remove(t.line+1,a-1,St),dt.insert(t.line+1,f)}if(c.lineWrapping){var g=J.clientWidth/vn()-3;dt.iter(t.line,t.line+n.length,(function(t){if(!t.hidden){var e=Math.ceil(t.text.length/g)||1;e!=t.height&&Vt(t,e)}}))}else dt.iter(t.line,d+n.length,(function(t){var e=t.text;e.length>l&&(Ht=e,l=e.length,At=null,o=!1)})),o&&(l=0,Ht="",At=null,dt.iter(0,dt.size,(function(t){var e=t.text;e.length>l&&(l=e.length,Ht=e)})));for(var v=[],x=n.length-a-1,y=(d=0,ut.length);d<y;++d){var k=ut[d];k<t.line?v.push(k):k>e.line&&v.push(k+x)}var w=t.line+Math.min(n.length,500);An(t.line,w),v.push(w),ut=v,Tn(100),kt.push({from:t.line,to:e.line+1,diff:x});var C={from:t,to:e,text:n};if(wt){for(var M=wt;M.next;M=M.next);M.next=C}else wt=C;function b(t){return t<=Math.min(e.line,e.line+x)?t:t+x}Te(r,i,b(zt.from.line),b(zt.to.line)),Q.style.height=dt.height*pn()+2*xn()+"px"}function le(t,e,n){function r(r){if(V(r,e))return r;if(!V(n,r))return i;var o=r.line+t.length-(n.line-e.line)-1,l=r.ch;return r.line==n.line&&(l+=t[t.length-1].length-(n.ch-(n.line==e.line?e.ch:0))),{line:o,ch:l}}var i;return e=De(e),n=n?De(n):e,t=q(t),se(t,e,n,(function(t){return i=t,{from:r(zt.from),to:r(zt.to)}})),i}function ae(t,e){se(q(t),zt.from,zt.to,(function(t){return"end"==e?{from:t,to:t}:"start"==e?{from:zt.from,to:zt.from}:{from:zt.from,to:t}}))}function se(t,e,n,r){var i=1==t.length?t[0].length+e.ch:t[t.length-1].length,o=r({line:e.line+t.length-1,ch:i});ee(e,n,t,o.from,o.to)}function ue(t,e){var n=t.line,r=e.line;if(n==r)return Bt(n).text.slice(t.ch,e.ch);var i=[Bt(n).text.slice(t.ch)];return dt.iter(n+1,r,(function(t){i.push(t.text)})),i.push(Bt(r).text.slice(0,e.ch)),i.join("\n")}function fe(){return ue(zt.from,zt.to)}var ce=!1;function he(){ce||ct.set(c.pollInterval,(function(){En(),me(),ft&&he(),Wn()}))}function de(){var t=!1;function e(){En();var n=me();n||t?(ce=!1,he()):(t=!0,ct.set(60,e)),Wn()}ce=!0,ct.set(20,e)}var pe="";function me(){if(Mt||!ft||X(Z))return!1;var t=Z.value;if(t==pe)return!1;pt=null;var e=0,n=Math.min(pe.length,t.length);while(e<n&&pe[e]==t[e])++e;return e<pe.length?zt.from={line:zt.from.line,ch:zt.from.ch-(pe.length-e)}:Tt&&B(zt.from,zt.to)&&(zt.to={line:zt.to.line,ch:Math.min(Bt(zt.to.line).text.length,zt.to.ch+(t.length-e))}),ae(t.slice(e),"end"),pe=t,!0}function ge(t){B(zt.from,zt.to)?t&&(pe=Z.value=""):(pe="",Z.value=fe(),Z.select())}function ve(){c.readOnly||Z.focus()}function xe(){if(ot.getBoundingClientRect){var t=ot.getBoundingClientRect();if(!H||t.top!=t.bottom){var e=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.top<0||t.bottom>e)&&ot.scrollIntoView()}}}function ye(){var t=cn(zt.inverted?zt.from:zt.to),e=c.lineWrapping?Math.min(t.x,rt.offsetWidth):t.x;return ke(e,t.y,e,t.yBot)}function ke(t,e,n,r){var i=yn(),o=xn(),l=pn();e+=o,r+=o,t+=i,n+=i;var a=J.clientHeight,s=J.scrollTop,u=!1,f=!0;e<s?(J.scrollTop=Math.max(0,e-2*l),u=!0):r>s+a&&(J.scrollTop=r+l-a,u=!0);var h=J.clientWidth,d=J.scrollLeft,p=c.fixedGutter?et.clientWidth:0;return t<d+p?(t<50&&(t=0),J.scrollLeft=Math.max(0,t-10-p),u=!0):n>h+d-3&&(J.scrollLeft=n+10-h,u=!0,n>Q.clientWidth&&(f=!1)),u&&c.onScroll&&c.onScroll(Ut),f}function we(){var t=pn(),e=J.scrollTop-xn(),n=Math.max(0,Math.floor(e/t)),r=Math.ceil((e+J.clientHeight)/t);return{from:k(dt,n),to:k(dt,r)}}function Ce(t,e){if(J.clientWidth){var n=we();if(!(!0!==t&&0==t.length&&n.from>=Wt&&n.to<=Nt)){var r=Math.max(n.from-100,0),i=Math.min(dt.size,n.to+100);Wt<r&&r-Wt<20&&(r=Wt),Nt>i&&Nt-i<20&&(i=Math.min(dt.size,Nt));for(var o=!0===t?[]:Me([{from:Wt,to:Nt,domStart:0}],t),l=0,a=0;a<o.length;++a){var s=o[a];s.from<r&&(s.domStart+=r-s.from,s.from=r),s.to>i&&(s.to=i),s.from>=s.to?o.splice(a--,1):l+=s.to-s.from}if(l!=i-r){o.sort((function(t,e){return t.domStart-e.domStart}));var u=pn(),f=et.style.display;lt.style.display=et.style.display="none",be(r,i,o),lt.style.display="";var h=r!=Wt||i!=Nt||Dt!=J.clientHeight+u;if(h&&(Dt=J.clientHeight+u),Wt=r,Nt=i,Et=w(dt,r),tt.style.top=Et*u+"px",Q.style.height=dt.height*u+2*xn()+"px",lt.childNodes.length!=Nt-Wt)throw new Error("BAD PATCH! "+JSON.stringify(o)+" size="+(Nt-Wt)+" nodes="+lt.childNodes.length);if(c.lineWrapping){At=J.clientWidth;var d=lt.firstChild;dt.iter(Wt,Nt,(function(t){if(!t.hidden){var e=Math.round(d.offsetHeight/u)||1;t.height!=e&&(Vt(t,e),bt=!0)}d=d.nextSibling}))}else null==At&&(At=on(Ht)),At>J.clientWidth?(rt.style.width=At+"px",Q.style.width="",Q.style.width=J.scrollWidth+"px"):rt.style.width=Q.style.width="";return et.style.display=f,(h||bt)&&Se(),Le(),!e&&c.onUpdate&&c.onUpdate(Ut),!0}}}else Wt=Nt=Et=0}function Me(t,e){for(var n=0,r=e.length||0;n<r;++n){for(var i=e[n],o=[],l=i.diff||0,a=0,s=t.length;a<s;++a){var u=t[a];i.to<=u.from&&i.diff?o.push({from:u.from+l,to:u.to+l,domStart:u.domStart}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from,domStart:u.domStart}),i.to<u.to&&o.push({from:i.to+l,to:u.to+l,domStart:u.domStart+(i.to-u.from)}))}t=o}return t}function be(t,e,n){if(n.length){function r(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}for(var i=0,o=lt.firstChild,l=0;l<n.length;++l){var a=n[l];while(a.domStart>i)o=r(o),i++;for(var s=0,u=a.to-a.from;s<u;++s)o=o.nextSibling,i++}while(o)o=r(o)}else lt.innerHTML="";var f=n.shift(),c=(o=lt.firstChild,s=t,zt.from.line),h=zt.to.line,d=c<t&&h>=t,p=L.createElement("div");dt.iter(t,e,(function(t){var e=null,r=null;d?(e=0,h==s&&(d=!1,r=zt.to.ch)):c==s&&(h==s?(e=zt.from.ch,r=zt.to.ch):(d=!0,e=zt.from.ch)),f&&f.to==s&&(f=n.shift()),!f||f.from>s?(t.hidden?p.innerHTML="<pre></pre>":p.innerHTML=t.getHTML(e,r,!0,It),lt.insertBefore(p.firstChild,o)):o=o.nextSibling,++s}))}function Se(){if(c.gutter||c.lineNumbers){var t=tt.offsetHeight,e=J.clientHeight;et.style.height=(t-e<2?e:t)+"px";var n=[],r=Wt;dt.iter(Wt,Math.max(Nt,Wt+1),(function(t){if(t.hidden)n.push("<pre></pre>");else{var e=t.gutterMarker,i=c.lineNumbers?r+c.firstLineNumber:null;e&&e.text?i=e.text.replace("%N%",null!=i?i:""):null==i&&(i="\xa0"),n.push(e&&e.style?'<pre class="'+e.style+'">':"<pre>",i);for(var o=1;o<t.height;++o)n.push("<br/>&#160;");n.push("</pre>")}++r})),et.style.display="none",nt.innerHTML=n.join("");var i=String(dt.size).length,o=nt.firstChild,l=U(o),a="";while(l.length+a.length<i)a+="\xa0";a&&o.insertBefore(L.createTextNode(a),o.firstChild),et.style.display="",rt.style.marginLeft=et.offsetWidth+"px",bt=!1}}function Le(){var t=zt.inverted?zt.from:zt.to,e=(pn(),cn(t,!0)),n=P(O),r=P(lt);R.style.top=e.y+r.top-n.top+"px",R.style.left=e.x+r.left-n.left+"px",B(zt.from,zt.to)?(ot.style.top=e.y+"px",ot.style.left=(c.lineWrapping?Math.min(e.x,rt.offsetWidth):e.x)+"px",ot.style.display=""):ot.style.display="none"}function Ae(t){pt=t?pt||(zt.inverted?zt.to:zt.from):null}function ze(t,e){var n=pt&&De(pt);n&&(V(n,t)?t=n:V(e,n)&&(e=n)),Te(t,e),yt=!0}function Te(t,e,n,r){if(Re=null,null==n&&(n=zt.from.line,r=zt.to.line),!B(zt.from,t)||!B(zt.to,e)){if(V(e,t)){var i=e;e=t,t=i}t.line!=n&&(t=Ee(t,n,zt.from.ch)),e.line!=r&&(e=Ee(e,r,zt.to.ch)),B(t,e)||B(t,zt.to)?zt.inverted=!1:B(e,zt.from)&&(zt.inverted=!0),B(t,e)?B(zt.from,zt.to)||kt.push({from:n,to:r+1}):B(zt.from,zt.to)?kt.push({from:t.line,to:e.line+1}):(B(t,zt.from)||(t.line<n?kt.push({from:t.line,to:Math.min(e.line,n)+1}):kt.push({from:n,to:Math.min(r,t.line)+1})),B(e,zt.to)||(e.line<r?kt.push({from:Math.max(n,t.line),to:r+1}):kt.push({from:Math.max(t.line,r),to:e.line+1}))),zt.from=t,zt.to=e,Ct=!0}}function Ee(t,e,n){function r(e){var r=t.line+e,i=1==e?dt.size:-1;while(r!=i){var o=Bt(r);if(!o.hidden){var l=t.ch;return(l>n||l>o.text.length)&&(l=o.text.length),{line:r,ch:l}}r+=e}}var i=Bt(t.line);return i.hidden?t.line>=e?r(1)||r(-1):r(-1)||r(1):t}function We(t,e,n){var r=De({line:t,ch:e||0});(n?ze:Te)(r,r)}function Ne(t){return Math.max(0,Math.min(t,dt.size-1))}function De(t){if(t.line<0)return{line:0,ch:0};if(t.line>=dt.size)return{line:dt.size-1,ch:Bt(dt.size-1).text.length};var e=t.ch,n=Bt(t.line).text.length;return null==e||e>n?{line:t.line,ch:n}:e<0?{line:t.line,ch:0}:t}function He(t,e){var n=zt.inverted?zt.from:zt.to,r=n.line,i=n.ch,o=Bt(r);function l(){for(var e=r+t,n=t<0?-1:dt.size;e!=n;e+=t){var i=Bt(e);if(!i.hidden)return r=e,o=i,!0}}function a(e){if(i==(t<0?0:o.text.length)){if(e||!l())return!1;i=t<0?o.text.length:0}else i+=t;return!0}if("char"==e)a();else if("column"==e)a(!0);else if("word"==e)for(var s=!1;;){if(t<0&&!a())break;if(_(o.text.charAt(i)))s=!0;else if(s){t<0&&(t=1,a());break}if(t>0&&!a())break}return{line:r,ch:i}}function Ie(t,e){var n=t<0?zt.from:zt.to;(pt||B(zt.from,zt.to))&&(n=He(t,e)),We(n.line,n.ch,!0)}function Oe(t,e){B(zt.from,zt.to)?t<0?le("",He(t,e),zt.to):le("",zt.from,He(t,e)):le("",zt.from,zt.to),yt=!0}var Re=null;function Pe(t,e){var n=0,r=cn(zt.inverted?zt.from:zt.to,!0);null!=Re&&(r.x=Re),"page"==e?n=J.clientHeight:"line"==e&&(n=pn());var i=hn(r.x,r.y+n*t+2);We(i.line,i.ch,!0),Re=r.x}function Ue(t){var e=Bt(t.line).text,n=t.ch,r=t.ch;while(n>0&&_(e.charAt(n-1)))--n;while(r<e.length&&_(e.charAt(r)))++r;ze({line:t.line,ch:n},{line:t.line,ch:r})}function Be(t){ze({line:t,ch:0},{line:t,ch:Bt(t).text.length})}function Ve(t){if(B(zt.from,zt.to))return Ke(zt.from.line,t);for(var e=zt.to.line-(zt.to.ch?0:1),n=zt.from.line;n<=e;++n)Ke(n,t)}function Ke(t,e){if(e||(e="add"),"smart"==e)if(st.indent)var n=Ln(t);else e="prev";var r,i=Bt(t),o=i.indentation(c.tabSize),l=i.text.match(/^\s*/)[0];"prev"==e?r=t?Bt(t-1).indentation(c.tabSize):0:"smart"==e?r=st.indent(n,i.text.slice(l.length),i.text):"add"==e?r=o+c.indentUnit:"subtract"==e&&(r=o-c.indentUnit),r=Math.max(0,r);var a=r-o;if(a){f="";var s=0;if(c.indentWithTabs)for(var u=Math.floor(r/c.tabSize);u;--u)s+=c.tabSize,f+="\t";while(s<r)++s,f+=" "}else{if(zt.from.line!=t&&zt.to.line!=t)return;var f=l}le(f,{line:t,ch:0},{line:t,ch:l.length})}function Fe(){st=t.getMode(c,c.mode),dt.iter(0,dt.size,(function(t){t.stateAfter=null})),ut=[0],Tn()}function je(){var t=c.gutter||c.lineNumbers;et.style.display=t?"":"none",t?bt=!0:lt.parentNode.style.marginLeft=0}function Ge(t,e){if(c.lineWrapping){O.className+=" CodeMirror-wrap";var n=J.clientWidth/vn()-3;dt.iter(0,dt.size,(function(t){if(!t.hidden){var e=Math.ceil(t.text.length/n)||1;1!=e&&Vt(t,e)}})),rt.style.width=Q.style.width=""}else O.className=O.className.replace(" CodeMirror-wrap",""),At=null,Ht="",dt.iter(0,dt.size,(function(t){1==t.height||t.hidden||Vt(t,1),t.text.length>Ht.length&&(Ht=t.text)}));kt.push({from:0,to:dt.size})}function Ye(){for(var t='<span class="cm-tab">',e=0;e<c.tabSize;++e)t+=" ";return t+"</span>"}function _e(){It=Ye(),Ce(!0)}function qe(){J.className=J.className.replace(/\s*cm-s-\w+/g,"")+c.theme.replace(/(^|\s)\s*/g," cm-s-")}function Xe(){this.set=[]}function $e(t,e,n){t=De(t),e=De(e);var r=new Xe;function i(t,e,n,i){Bt(t).addMark(new h(e,n,i,r.set))}if(t.line==e.line)i(t.line,t.ch,e.ch,n);else{i(t.line,t.ch,null,n);for(var o=t.line+1,l=e.line;o<l;++o)i(o,null,null,n);i(e.line,null,e.ch,n)}return kt.push({from:t.line,to:e.line+1}),r}function Ze(t){t=De(t);var e=new d(t.ch);return Bt(t.line).addMark(e),e}function Je(t,e,n){return"number"==typeof t&&(t=Bt(Ne(t))),t.gutterMarker={text:e,style:n},bt=!0,t}function Qe(t){"number"==typeof t&&(t=Bt(Ne(t))),t.gutterMarker=null,bt=!0}function tn(t,e){var n=t,r=t;return"number"==typeof t?r=Bt(Ne(t)):n=y(t),null==n?null:e(r,n)?(kt.push({from:n,to:n+1}),r):null}function en(t,e){return tn(t,(function(t){if(t.className!=e)return t.className=e,!0}))}function nn(t,e){return tn(t,(function(t,n){if(t.hidden!=e)return t.hidden=e,Vt(t,e?0:1),!e||zt.from.line!=n&&zt.to.line!=n||Te(Ee(zt.from,zt.from.line,zt.from.ch),Ee(zt.to,zt.to.line,zt.to.ch)),bt=!0}))}function rn(t){if("number"==typeof t){if(!Pt(t))return null;var e=t;if(t=Bt(t),!t)return null}else{e=y(t);if(null==e)return null}var n=t.gutterMarker;return{line:e,handle:t,text:t.text,markerText:n&&n.text,markerClass:n&&n.style,lineClass:t.className}}function on(t){return it.innerHTML="<pre><span>x</span></pre>",it.firstChild.firstChild.firstChild.nodeValue=t,it.firstChild.firstChild.offsetWidth||10}Xe.prototype.clear=Dn((function(){for(var t=1/0,e=-1/0,n=0,r=this.set.length;n<r;++n){var i=this.set[n],o=i.marked;if(o&&i.parent){var l=y(i);t=Math.min(t,l),e=Math.max(e,l);for(var a=0;a<o.length;++a)o[a].set==this.set&&o.splice(a--,1)}}t!=1/0&&kt.push({from:t,to:e+1})})),Xe.prototype.find=function(){for(var t,e,n=0,r=this.set.length;n<r;++n)for(var i=this.set[n],o=i.marked,l=0;l<o.length;++l){var a=o[l];if(a.set==this.set&&(null!=a.from||null!=a.to)){var s=y(i);null!=s&&(null!=a.from&&(t={line:s,ch:a.from}),null!=a.to&&(e={line:s,ch:a.to}))}}return{from:t,to:e}};var ln,an,sn,un=Math.floor(16777215*Math.random()).toString(16);function fn(t,e){var n="";if(c.lineWrapping){var r=t.text.indexOf(" ",e+2);n=j(t.text.slice(e+1,r<0?t.text.length:r+(H?5:0)))}it.innerHTML="<pre>"+t.getHTML(null,null,!1,It,e)+'<span id="CodeMirror-temp-'+un+'">'+j(t.text.charAt(e)||" ")+"</span>"+n+"</pre>";var i=document.getElementById("CodeMirror-temp-"+un),o=i.offsetTop,l=i.offsetLeft;if(H&&e&&0==o&&0==l){var a=document.createElement("span");a.innerHTML="x",i.parentNode.insertBefore(a,i.nextSibling),o=a.offsetTop}return{top:o,left:l}}function cn(t,e){var n,r=pn(),i=r*(w(dt,t.line)-(e?Et:0));if(0==t.ch)n=0;else{var o=fn(Bt(t.line),t.ch);n=o.left,c.lineWrapping&&(i+=Math.max(0,o.top))}return{x:n,y:i,yBot:i+r}}function hn(t,e){e<0&&(e=0);var n=pn(),r=vn(),i=Et+Math.floor(e/n),o=k(dt,i);if(o>=dt.size)return{line:dt.size-1,ch:Bt(dt.size-1).text.length};var l=Bt(o),a=l.text,s=c.lineWrapping,u=s?i-w(dt,o):0;if(t<=0&&0==u)return{line:o,ch:0};function f(t){var e=fn(l,t);if(s){var r=Math.round(e.top/n);return Math.max(0,e.left+(r-u)*J.clientWidth)}return e.left}for(var h,d=0,p=0,m=a.length,g=Math.min(m,Math.ceil((t+u*J.clientWidth*.9)/r));;){var v=f(g);if(!(v<=t&&g<m)){h=v,m=g;break}g=Math.min(m,Math.ceil(1.2*g))}if(t>h)return{line:o,ch:m};for(g=Math.floor(.8*m),v=f(g),v<t&&(d=g,p=v);;){if(m-d<=1)return{line:o,ch:h-t>t-p?d:m};var x=Math.ceil((d+m)/2),y=f(x);y>t?(m=x,h=y):(d=x,p=y)}}function dn(t){var e=cn(t,!0),n=P(rt);return{x:n.left+e.x,y:n.top+e.y,yBot:n.top+e.yBot}}function pn(){if(null==sn){sn="<pre>";for(var t=0;t<49;++t)sn+="x<br/>";sn+="x</pre>"}var e=lt.clientHeight;return e==an||(an=e,it.innerHTML=sn,ln=it.firstChild.offsetHeight/50||1,it.innerHTML=""),ln}var mn,gn=0;function vn(){return J.clientWidth==gn?mn:(gn=J.clientWidth,mn=on("x"))}function xn(){return rt.offsetTop}function yn(){return rt.offsetLeft}function kn(t,e){var n,r,i=P(J,!0);try{n=t.clientX,r=t.clientY}catch(t){return null}if(!e&&(n-i.left>J.clientWidth||r-i.top>J.clientHeight))return null;var o=P(rt,!0);return hn(n-o.left,r-o.top)}function wn(t){var e=kn(t);if(e&&!window.opera){(B(zt.from,zt.to)||V(e,zt.from)||!V(e,zt.to))&&Dn(We)(e.line,e.ch);var n=Z.style.cssText;R.style.position="absolute",Z.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Mt=!0;var r=Z.value=fe();if(ve(),Z.select(),D){A(t);var i=E(window,"mouseup",(function(){i(),setTimeout(o,20)}),!0)}else setTimeout(o,50)}function o(){var t=q(Z.value).join("\n");t!=r&&Dn(ae)(t,"end"),R.style.position="relative",Z.style.cssText=n,Mt=!1,ge(!0),he()}}function Cn(){clearInterval(at);var t=!0;ot.style.visibility="",at=setInterval((function(){ot.style.visibility=(t=!t)?"":"hidden"}),650)}var Mn={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function bn(t){var e=zt.inverted?zt.from:zt.to,n=Bt(e.line),r=e.ch-1,i=r>=0&&Mn[n.text.charAt(r)]||Mn[n.text.charAt(++r)];if(i){i.charAt(0);for(var o=">"==i.charAt(1),l=o?1:-1,a=n.styles,s=r+1,u=0,f=a.length;u<f;u+=2)if((s-=a[u].length)<=0){var c=a[u+1];break}var h=[n.text.charAt(r)],d=/[(){}[\]]/;for(u=e.line,f=o?Math.min(u+100,dt.size):Math.max(-1,u-100);u!=f;u+=l){n=Bt(u);var p=u==e.line,m=y(n,p&&o?r+1:0,p&&!o?r:n.text.length);if(m)break}m||(m={pos:null,match:!1});c=m.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var g=$e({line:e.line,ch:r},{line:e.line,ch:r+1},c),v=null!=m.pos&&$e({line:u,ch:m.pos},{line:u,ch:m.pos+1},c),x=Dn((function(){g.clear(),v&&v.clear()}));t?setTimeout(x,800):Lt=x}function y(t,e,n){if(t.text)for(var r,i=t.styles,a=o?0:t.text.length-1,s=o?0:i.length-2,u=o?i.length:-2;s!=u;s+=2*l){var f=i[s];if(null==i[s+1]||i[s+1]==c){for(var p=o?0:f.length-1,m=o?f.length:-1;p!=m;p+=l,a+=l)if(a>=e&&a<n&&d.test(r=f.charAt(p))){var g=Mn[r];if(">"==g.charAt(1)==o)h.push(r);else{if(h.pop()!=g.charAt(0))return{pos:a,match:!1};if(!h.length)return{pos:a,match:!0}}}}else a+=l*f.length}}}function Sn(t){for(var e,n,r=t,i=t-40;r>i;--r){if(0==r)return 0;var o=Bt(r-1);if(o.stateAfter)return r;var l=o.indentation(c.tabSize);(null==n||e>l)&&(n=r-1,e=l)}return n}function Ln(t){var e=Sn(t),n=e&&Bt(e-1).stateAfter;return n=n?u(st,n):f(st),dt.iter(e,t,(function(t){t.highlight(st,n,c.tabSize),t.stateAfter=u(st,n)})),e<t&&kt.push({from:e,to:t}),t<dt.size&&!Bt(t).stateAfter&&ut.push(t),n}function An(t,e){var n=Ln(t);dt.iter(t,e,(function(t){t.highlight(st,n,c.tabSize),t.stateAfter=u(st,n)}))}function zn(){var t=+new Date+c.workTime,e=ut.length;while(ut.length){if(Bt(Wt).stateAfter)n=ut.pop();else var n=Wt;if(!(n>=dt.size)){var r=Sn(n),i=r&&Bt(r-1).stateAfter;i=i?u(st,i):f(st);var o=0,l=st.compareStates,a=!1,s=r,h=!1;if(dt.iter(s,dt.size,(function(e){var r=e.stateAfter;if(+new Date>t)return ut.push(s),Tn(c.workDelay),a&&kt.push({from:n,to:s+1}),h=!0;var f=e.highlight(st,i,c.tabSize);if(f&&(a=!0),e.stateAfter=u(st,i),l){if(r&&l(r,i))return!0}else if(!1===f&&r){if(++o>3&&(!st.indent||st.indent(r,"")==st.indent(i,"")))return!0}else o=0;++s})),h)return;a&&kt.push({from:n,to:s+1})}}e&&c.onHighlightComplete&&c.onHighlightComplete(Ut)}function Tn(t){ut.length&&ht.set(t,Dn(zn))}function En(){xt=yt=wt=null,kt=[],Ct=!1,St=[]}function Wn(){var t,e=!1;Ct&&(e=!ye()),kt.length?t=Ce(kt,!0):(Ct&&Le(),bt&&Se()),e&&ye(),Ct&&(xe(),Cn()),ft&&!Mt&&(!0===xt||!1!==xt&&Ct)&&ge(yt),Ct&&c.matchBrackets&&setTimeout(Dn((function(){Lt&&(Lt(),Lt=null),B(zt.from,zt.to)&&bn(!1)})),20);var n=wt,r=St;Ct&&c.onCursorActivity&&c.onCursorActivity(Ut),n&&c.onChange&&Ut&&c.onChange(Ut,n);for(var i=0;i<r.length;++i)r[i](Ut);t&&c.onUpdate&&c.onUpdate(Ut)}var Nn=0;function Dn(t){return function(){Nn++||En();try{var e=t.apply(this,arguments)}finally{--Nn||Wn()}return e}}for(var Hn in i)i.propertyIsEnumerable(Hn)&&!Ut.propertyIsEnumerable(Hn)&&(Ut[Hn]=i[Hn]);return Ut}t.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,onKeyEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var e=/Mac/.test(navigator.platform),n=(/Win/.test(navigator.platform),{}),r={};t.defineMode=function(e,r){t.defaults.mode||"null"==e||(t.defaults.mode=e),n[e]=r},t.defineMIME=function(t,e){r[t]=e},t.getMode=function(e,i){if("string"==typeof i&&r.hasOwnProperty(i)&&(i=r[i]),"string"==typeof i)var o=i,l={};else if(null!=i)o=i.name,l=i;var a=n[o];return a?a(e,l||{}):(window.console&&console.warn("No mode "+o+" found, falling back to plain text."),t.getMode(e,"text/plain"))},t.listModes=function(){var t=[];for(var e in n)n.propertyIsEnumerable(e)&&t.push(e);return t},t.listMIMEs=function(){var t=[];for(var e in r)r.propertyIsEnumerable(e)&&t.push({mime:e,mode:r[e]});return t};var i=t.extensions={};t.defineExtension=function(t,e){i[t]=e};var o=t.commands={selectAll:function(t){t.setSelection({line:0,ch:0},{line:t.lineCount()-1})},killLine:function(t){var e=t.getCursor(!0),n=t.getCursor(!1),r=!B(e,n);r||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,r?n:{line:e.line}):t.replaceRange("",e,{line:e.line+1,ch:0})},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",{line:e,ch:0},{line:e})},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.setCursor(0,0,!0)},goDocEnd:function(t){t.setSelection({line:t.lineCount()-1},null,!0)},goLineStart:function(t){t.setCursor(t.getCursor().line,0,!0)},goLineStartSmart:function(t){var e=t.getCursor(),n=t.getLine(e.line),r=Math.max(0,n.search(/\S/));t.setCursor(e.line,e.ch<=r&&e.ch?0:r,!0)},goLineEnd:function(t){t.setSelection({line:t.getCursor().line},null,!0)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goWordRight:function(t){t.moveH(1,"word")},delCharLeft:function(t){t.deleteH(-1,"char")},delCharRight:function(t){t.deleteH(1,"char")},delWordLeft:function(t){t.deleteH(-1,"word")},delWordRight:function(t){t.deleteH(1,"word")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t","end")},transposeChars:function(t){var e=t.getCursor(),n=t.getLine(e.line);e.ch>0&&e.ch<n.length-1&&t.replaceRange(n.charAt(e.ch)+n.charAt(e.ch-1),{line:e.line,ch:e.ch-1},{line:e.line,ch:e.ch+1})},newlineAndIndent:function(t){t.replaceSelection("\n","end"),t.indentLine(t.getCursor().line)},toggleOverwrite:function(t){t.toggleOverwrite()}},l=t.keyMap={};function a(t,e,n){function r(t,e,n){var i=e[t];if(null!=i)return i;if(null==n&&(n=e.fallthrough),null==n)return e.catchall;if("string"==typeof n)return r(t,l[n]);for(var o=0,a=n.length;o<a;++o)if(i=r(t,l[n[o]]),null!=i)return i;return null}return e?r(t,e,n):r(t,l[n])}function s(t){var e=$[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function u(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function f(t,e,n){return!t.startState||t.startState(e,n)}function c(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8}function h(t,e,n,r){this.from=t,this.to=e,this.style=n,this.set=r}function d(t){this.from=t,this.to=t,this.line=null}function p(t,e){this.styles=e||[t,null],this.text=t,this.height=1,this.marked=this.gutterMarker=this.className=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function m(t,e,n,r){for(var i=0,o=0,l=0;o<e;i+=2){var a=n[i],s=o+a.length;0==l?(s>t&&r.push(a.slice(t-o,Math.min(a.length,e-o)),n[i+1]),s>=t&&(l=1)):1==l&&(s>e?r.push(a.slice(0,e-o),n[i+1]):r.push(a,n[i+1])),o=s}}function g(t){this.lines=t,this.parent=null;for(var e=0,n=t.length,r=0;e<n;++e)t[e].parent=this,r+=t[e].height;this.height=r}function v(t){this.children=t;for(var e=0,n=0,r=0,i=t.length;r<i;++r){var o=t[r];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}function x(t,e){while(!t.lines)for(var n=0;;++n){var r=t.children[n],i=r.chunkSize();if(e<i){t=r;break}e-=i}return t.lines[e]}function y(t){if(null==t.parent)return null;for(var e=t.parent,n=Y(e.lines,t),r=e.parent;r;e=r,r=r.parent){var i=0;for(r.children.length;;++i){if(r.children[i]==e)break;n+=r.children[i].chunkSize()}}return n}function k(t,e){var n=0;t:do{for(var r=0,i=t.children.length;r<i;++r){var o=t.children[r],l=o.height;if(e<l){t=o;continue t}e-=l,n+=o.chunkSize()}return n}while(!t.lines);for(r=0,i=t.lines.length;r<i;++r){var a=t.lines[r],s=a.height;if(e<s)break;e-=s}return n+r}function w(t,e){var n=0;t:do{for(var r=0,i=t.children.length;r<i;++r){var o=t.children[r],l=o.chunkSize();if(e<l){t=o;continue t}e-=l,n+=o.height}return n}while(!t.lines);for(r=0;r<e;++r)n+=t.lines[r].height;return n}function C(){this.time=0,this.done=[],this.undone=[]}function M(){A(this)}function b(t){return t.stop||(t.stop=M),t}function S(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function L(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function A(t){S(t),L(t)}function z(t){return t.target||t.srcElement}function T(t){return t.which?t.which:1&t.button?1:2&t.button?3:4&t.button?2:void 0}function E(t,e,n,r){if("function"==typeof t.addEventListener){if(t.addEventListener(e,n,!1),r)return function(){t.removeEventListener(e,n,!1)}}else{var i=function(t){n(t||window.event)};if(t.attachEvent("on"+e,i),r)return function(){t.detachEvent("on"+e,i)}}}function W(){this.id=null}l.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},l.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"},l.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]},l["default"]=e?l.macDefault:l.pcDefault,l.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.fromTextArea=function(e,n){function r(){e.value=a.getValue()}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),e.form){var i=E(e.form,"submit",r,!0);if("function"==typeof e.form.submit){var o=e.form.submit;function l(){r(),e.form.submit=o,e.form.submit(),e.form.submit=l}e.form.submit=l}}e.style.display="none";var a=t((function(t){e.parentNode.insertBefore(t,e.nextSibling)}),n);return a.save=r,a.getTextArea=function(){return e},a.toTextArea=function(){r(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(i(),"function"==typeof e.form.submit&&(e.form.submit=o))},a},t.copyState=u,t.startState=f,c.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){var e=this.pos;while(this.eat(t));return this.pos>e},eatSpace:function(){var t=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return O(this.string,this.start,this.tabSize)},indentation:function(){return O(this.string,null,this.tabSize)},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&!1!==e&&(this.pos+=r[0].length),r}{function i(t){return n?t.toLowerCase():t}if(i(this.string).indexOf(i(t),this.pos)==this.pos)return!1!==e&&(this.pos+=t.length),!0}},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=c,h.prototype={attach:function(t){this.set.push(t)},detach:function(t){var e=Y(this.set,t);e>-1&&this.set.splice(e,1)},split:function(t,e){if(this.to<=t&&null!=this.to)return null;var n=this.from<t||null==this.from?null:this.from-t+e,r=null==this.to?null:this.to-t+e;return new h(n,r,this.style,this.set)},dup:function(){return new h(null,null,this.style,this.set)},clipTo:function(t,e,n,r,i){null!=this.from&&this.from>=e&&(this.from=Math.max(r,this.from)+i),null!=this.to&&this.to>e&&(this.to=r<this.to?this.to+i:e),t&&r>this.from&&(r<this.to||null==this.to)&&(this.from=null),n&&(e<this.to||null==this.to)&&(e>this.from||null==this.from)&&(this.to=null)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(t){return this.set==t.set}},d.prototype={attach:function(t){this.line=t},detach:function(t){this.line==t&&(this.line=null)},split:function(t,e){if(t<this.from)return this.from=this.to=this.from-t+e,this},isDead:function(){return this.from>this.to},clipTo:function(t,e,n,r,i){(t||e<this.from)&&(n||r>this.to)?(this.from=0,this.to=-1):this.from>e&&(this.from=this.to=Math.max(r,this.from)+i)},sameSet:function(t){return!1},find:function(){return this.line&&this.line.parent?{line:y(this.line),ch:this.from}:null},clear:function(){if(this.line){var t=Y(this.line.marked,this);-1!=t&&this.line.marked.splice(t,1),this.line=null}}},p.inheritMarks=function(t,e){var n=new p(t),r=e&&e.marked;if(r)for(var i=0;i<r.length;++i)if(null==r[i].to&&r[i].style){var o=n.marked||(n.marked=[]),l=r[i],a=l.dup();o.push(a),a.attach(n)}return n},p.prototype={replace:function(t,e,n){var r=[],i=this.marked,o=null==e?this.text.length:e;if(m(0,t,this.styles,r),n&&r.push(n,null),m(o,this.text.length,this.styles,r),this.styles=r,this.text=this.text.slice(0,t)+n+this.text.slice(o),this.stateAfter=null,i)for(var l=n.length-(o-t),a=0,s=i[a];a<i.length;++a)s.clipTo(null==t,t||0,null==e,o,l),s.isDead()&&(s.detach(this),i.splice(a--,1))},split:function(t,e){var n=[e,null],r=this.marked;m(t,this.text.length,this.styles,n);var i=new p(e+this.text.slice(t),n);if(r)for(var o=0;o<r.length;++o){var l=r[o],a=l.split(t,e.length);a&&(i.marked||(i.marked=[]),i.marked.push(a),a.attach(i))}return i},append:function(t){var e=this.text.length,n=t.marked,r=this.marked;if(this.text+=t.text,m(0,t.text.length,t.styles,this.styles),r)for(var i=0;i<r.length;++i)null==r[i].to&&(r[i].to=e);if(n&&n.length){r||(this.marked=r=[]);t:for(i=0;i<n.length;++i){var o=n[i];if(!o.from)for(var l=0;l<r.length;++l){var a=r[l];if(a.to==e&&a.sameSet(o)){a.to=null==o.to?null:o.to+e,a.isDead()&&(a.detach(this),n.splice(i--,1));continue t}}r.push(o),o.attach(this),o.from+=e,null!=o.to&&(o.to+=e)}}},fixMarkEnds:function(t){var e=this.marked,n=t.marked;if(e)for(var r=0;r<e.length;++r){var i=e[r],o=null==i.to;if(o&&n)for(var l=0;l<n.length;++l)if(n[l].sameSet(i)){o=!1;break}o&&(i.to=this.text.length)}},fixMarkStarts:function(){var t=this.marked;if(t)for(var e=0;e<t.length;++e)null==t[e].from&&(t[e].from=0)},addMark:function(t){t.attach(this),null==this.marked&&(this.marked=[]),this.marked.push(t),this.marked.sort((function(t,e){return(t.from||0)-(e.from||0)}))},highlight:function(t,e,n){var r,i=new c(this.text,n),o=this.styles,l=0,a=!1,s=o[0];""==this.text&&t.blankLine&&t.blankLine(e);while(!i.eol()){var u=t.token(i,e),f=this.text.slice(i.start,i.pos);if(i.start=i.pos,l&&o[l-1]==u?o[l-2]+=f:f&&(!a&&(o[l+1]!=u||l&&o[l-2]!=r)&&(a=!0),o[l++]=f,o[l++]=u,r=s,s=o[l]),i.pos>5e3){o[l++]=this.text.slice(i.pos),o[l++]=null;break}}return o.length!=l&&(o.length=l,a=!0),l&&o[l-2]!=r&&(a=!0),a||o.length<5&&this.text.length<10&&null},getTokenAt:function(t,e,n){var r=this.text,i=new c(r);while(i.pos<n&&!i.eol()){i.start=i.pos;var o=t.token(i,e)}return{start:i.start,end:i.pos,string:i.current(),className:o||null,state:e}},indentation:function(t){return O(this.text,null,t)},getHTML:function(t,e,n,r,i){var o=[],l=!0;function a(t,e){t&&(l&&H&&" "==t.charAt(0)&&(t="\xa0"+t.slice(1)),l=!1,e?o.push('<span class="',e,'">',j(t).replace(/\t/g,r),"</span>"):o.push(j(t).replace(/\t/g,r)))}n&&o.push(this.className?'<pre class="'+this.className+'">':"<pre>");var s=this.styles,u=this.text,f=this.marked;t==e&&(t=null);var c=u.length;if(null!=i&&(c=Math.min(i,c)),u||null!=i)if(f||null!=t){var h=0,d=(w=0,""),p=-1,m=null;function g(){f&&(p+=1,m=p<f.length?f[p]:null)}g();while(h<c){var v=c,x="";null!=t&&(t>h?v=t:(null==e||e>h)&&(x=" CodeMirror-selected",null!=e&&(v=Math.min(v,e))));while(m&&null!=m.to&&m.to<=h)g();for(m&&(m.from>h?v=Math.min(v,m.from):(x+=" "+m.style,null!=m.to&&(v=Math.min(v,m.to))));;){var y=h+d.length,k=b;if(x&&(k=b?b+x:x),a(y>v?d.slice(0,v-h):d,k),y>=v){d=d.slice(v-h),h=v;break}h=y,d=s[w++],b="cm-"+s[w++]}}null!=t&&null==e&&a(" ","CodeMirror-selected")}else for(var w=0,C=0;C<c;w+=2){var M=s[w],b=s[w+1],S=M.length;C+S>c&&(M=M.slice(0,c-C)),C+=S,a(M,b&&"cm-"+b)}else a(" ",null!=t&&null==e?"CodeMirror-selected":null);return n&&o.push("</pre>"),o.join("")},cleanUp:function(){if(this.parent=null,this.marked)for(var t=0,e=this.marked.length;t<e;++t)this.marked[t].detach(this)}},g.prototype={chunkSize:function(){return this.lines.length},remove:function(t,e,n){for(var r=t,i=t+e;r<i;++r){var o=this.lines[r];if(this.height-=o.height,o.cleanUp(),o.handlers)for(var l=0;l<o.handlers.length;++l)n.push(o.handlers[l])}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertHeight:function(t,e,n){this.height+=n,this.lines.splice.apply(this.lines,[t,0].concat(e));for(var r=0,i=e.length;r<i;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},v.prototype={chunkSize:function(){return this.size},remove:function(t,e,n){this.size-=e;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var l=Math.min(e,o-t),a=i.height;if(i.remove(t,l,n),this.height-=a-i.height,o==l&&(this.children.splice(r--,1),i.parent=null),0==(e-=l))break;t=0}else t-=o}if(this.size-e<25){var s=[];this.collapse(s),this.children=[new g(s)]}},collapse:function(t){for(var e=0,n=this.children.length;e<n;++e)this.children[e].collapse(t)},insert:function(t,e){for(var n=0,r=0,i=e.length;r<i;++r)n+=e[r].height;this.insertHeight(t,e,n)},insertHeight:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r],l=o.chunkSize();if(t<=l){if(o.insertHeight(t,e,n),o.lines&&o.lines.length>50){while(o.lines.length>50){var a=o.lines.splice(o.lines.length-25,25),s=new g(a);o.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new v(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=Y(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new v(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iter:function(t,e,n){this.iterN(t,e-t,n)},iterN:function(t,e,n){for(var r=0,i=this.children.length;r<i;++r){var o=this.children[r],l=o.chunkSize();if(t<l){var a=Math.min(e,l-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=l}}},C.prototype={addChange:function(t,e,n){this.undone.length=0;var r=+new Date,i=this.done[this.done.length-1];if(r-this.time>400||!i||i.start>t+e||i.start+i.added<t-i.added+i.old.length)this.done.push({start:t,added:e,old:n});else{var o=0;if(t<i.start){for(var l=i.start-t-1;l>=0;--l)i.old.unshift(n[l]);i.added+=i.start-t,i.start=t}else i.start<t&&(o=t-i.start,e+=o);l=i.added-o;for(var a=n.length;l<a;++l)i.old.push(n[l]);i.added<e&&(i.added=e)}this.time=r}},t.e_stop=A,t.e_preventDefault=S,t.e_stopPropagation=L,t.connect=E,W.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}};var N=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent))return!1;var t=document.createElement("div");return"draggable"in t}(),D=/gecko\/\d{7}/i.test(navigator.userAgent),H=/MSIE \d/.test(navigator.userAgent),I=/WebKit\//.test(navigator.userAgent);function O(t,e,n){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var r=0,i=0;r<e;++r)"\t"==t.charAt(r)?i+=n-i%n:++i;return i}function R(t){return t.currentStyle?t.currentStyle:window.getComputedStyle(t,null)}function P(t,e){for(var n=t.ownerDocument.body,r=0,i=0,o=!1,l=t;l;l=l.offsetParent){var a=l.offsetLeft,s=l.offsetTop;l==n?(r+=Math.abs(a),i+=Math.abs(s)):(r+=a,i+=s),e&&"fixed"==R(l).position&&(o=!0)}var u=e&&!o?null:n;for(l=t.parentNode;l!=u;l=l.parentNode)null!=l.scrollLeft&&(r-=l.scrollLeft,i-=l.scrollTop);return{left:r,top:i}}function U(t){return t.textContent||t.innerText||t.nodeValue||""}function B(t,e){return t.line==e.line&&t.ch==e.ch}function V(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function K(t){return{line:t.line,ch:t.ch}}(function(){var t=document.createElement("textarea");t.value="foo\nbar",t.value.indexOf("\r")>-1&&"\r\n"})(),null!=document.documentElement.getBoundingClientRect&&(P=function(t,e){try{var n=t.getBoundingClientRect();n={top:n.top,left:n.left}}catch(i){n={top:0,left:0}}if(!e)if(null==window.pageYOffset){var r=document.documentElement||document.body.parentNode;null==r.scrollTop&&(r=document.body),n.top+=r.scrollTop,n.left+=r.scrollLeft}else n.top+=window.pageYOffset,n.left+=window.pageXOffset;return n});var F=document.createElement("pre");function j(t){return F.textContent=t,F.innerHTML}function G(t,e){if(!e)return t?t.length:0;if(!t)return e.length;for(var n=t.length,r=e.length;n>=0&&r>=0;--n,--r)if(t.charAt(n)!=e.charAt(r))break;return r+1}function Y(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;++n)if(t[n]==e)return n;return-1}function _(t){return/\w/.test(t)||t.toUpperCase()!=t.toLowerCase()}"\na"==j("a")?j=function(t){return F.textContent=t,F.innerHTML.slice(1)}:"\t"!=j("\t")&&(j=function(t){return F.innerHTML="",F.appendChild(document.createTextNode(t)),F.innerHTML}),t.htmlEscape=j;var q=3!="\n\nb".split(/\n/).length?function(t){var e,n=0,r=[];while((e=t.indexOf("\n",n))>-1)r.push(t.slice(n,"\r"==t.charAt(e-1)?e-1:e)),n=e+1;return r.push(t.slice(n)),r}:function(t){return t.split(/\r?\n/)};t.splitLines=q;var X=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)};t.defineMode("null",(function(){return{token:function(t){t.skipToEnd()}}})),t.defineMIME("text/plain","null");var $={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return t.keyNames=$,function(){for(var t=0;t<10;t++)$[t+48]=String(t);for(t=65;t<=90;t++)$[t]=String.fromCharCode(t);for(t=1;t<=12;t++)$[t+111]=$[t+63235]="F"+t}(),t}();CodeMirror.defineMode("xml",(function(t,e){var n,r,i,o,l=t.indentUnit,a=e.htmlMode?{autoSelfClosers:{br:!0,img:!0,hr:!0,link:!0,input:!0,meta:!0,col:!0,frame:!0,base:!0,area:!0},doNotIndent:{pre:!0},allowUnquoted:!0}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:!1},s=e.alignCDATA;function u(t,e){function i(n){return e.tokenize=n,n(t,e)}var o=t.next();if("<"==o){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?i(h("atom","]]>")):null:t.match("--")?i(h("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),i(d(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=h("meta","?>"),"meta";var l;r=t.eat("/")?"closeTag":"openTag",t.eatSpace(),n="";while(l=t.eat(/[^\s\u00a0=<>\"\'\/?]/))n+=l;return e.tokenize=f,"tag"}return"&"==o?(t.eatWhile(/[^;]/),t.eat(";"),"atom"):(t.eatWhile(/[^&<]/),null)}function f(t,e){var n=t.next();return">"==n||"/"==n&&t.eat(">")?(e.tokenize=u,r=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(r="equals",null):/[\'\"]/.test(n)?(e.tokenize=c(n),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function c(t){return function(e,n){while(!e.eol())if(e.next()==t){n.tokenize=f;break}return"string"}}function h(t,e){return function(n,r){while(!n.eol()){if(n.match(e)){r.tokenize=u;break}n.next()}return t}}function d(t){return function(e,n){var r;while(null!=(r=e.next())){if("<"==r)return n.tokenize=d(t+1),n.tokenize(e,n);if(">"==r){if(1==t){n.tokenize=u;break}return n.tokenize=d(t-1),n.tokenize(e,n)}}return"meta"}}function p(){for(var t=arguments.length-1;t>=0;t--)i.cc.push(arguments[t])}function m(){return p.apply(null,arguments),!0}function g(t,e){var n=a.doNotIndent.hasOwnProperty(t)||i.context&&i.context.noIndent;i.context={prev:i.context,tagName:t,indent:i.indented,startOfLine:e,noIndent:n}}function v(){i.context&&(i.context=i.context.prev)}function x(t){if("openTag"==t)return i.tagName=n,m(w,y(i.startOfLine));if("closeTag"==t){var e=!1;return e=!i.context||i.context.tagName!=n,e&&(o="error"),m(k(e))}return m()}function y(t){return function(e){return"selfcloseTag"==e||"endTag"==e&&a.autoSelfClosers.hasOwnProperty(i.tagName.toLowerCase())?m():"endTag"==e?(g(i.tagName,t),m()):m()}}function k(t){return function(e){return t&&(o="error"),"endTag"==e?(v(),m()):(o="error",m(arguments.callee))}}function w(t){return"word"==t?(o="attribute",m(w)):"equals"==t?m(C,w):"string"==t?(o="error",m(w)):p()}function C(t){return"word"==t&&a.allowUnquoted?(o="string",m()):"string"==t?m(M):p()}function M(t){return"string"==t?m(M):p()}return{startState:function(){return{tokenize:u,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(t,e){if(t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;o=r=n=null;var l=e.tokenize(t,e);if(e.type=r,(l||r)&&"comment"!=l){i=e;while(1){var a=e.cc.pop()||x;if(a(r||l))break}}return e.startOfLine=!1,o||l},indent:function(t,e,n){var r=t.context;if(t.tokenize!=f&&t.tokenize!=u||r&&r.noIndent)return n?n.match(/^(\s*)/)[0].length:0;if(s&&/<!\[CDATA\[/.test(e))return 0;r&&/^<\//.test(e)&&(r=r.prev);while(r&&!r.startOfLine)r=r.prev;return r?r.indent+l:0},compareStates:function(t,e){if(t.indented!=e.indented||t.tokenize!=e.tokenize)return!1;for(var n=t.context,r=e.context;;n=n.prev,r=r.prev){if(!n||!r)return n==r;if(n.tagName!=r.tagName)return!1}},electricChars:"/"}})),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),CodeMirror.defineMode("javascript",(function(t,e){var n,r,i=t.indentUnit,o=e.json,l=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"};return{if:e,while:e,with:e,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:r,delete:r,throw:r,var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o}}(),a=/[+\-*&%=<>!?|]/;function s(t,e,n){return e.tokenize=n,n(t,e)}function u(t,e){var n,r=!1;while(null!=(n=t.next())){if(n==e&&!r)return!1;r=!r&&"\\"==n}return r}function f(t,e,i){return n=t,r=i,e}function c(t,e){var n=t.next();if('"'==n||"'"==n)return s(t,e,h(n));if(/[\[\]{}\(\),;\:\.]/.test(n))return f(n);if("0"==n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),f("number","number");if(/\d/.test(n))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),f("number","number");if("/"==n)return t.eat("*")?s(t,e,d):t.eat("/")?(t.skipToEnd(),f("comment","comment")):e.reAllowed?(u(t,"/"),t.eatWhile(/[gimy]/),f("regexp","string")):(t.eatWhile(a),f("operator",null,t.current()));if("#"==n)return t.skipToEnd(),f("error","error");if(a.test(n))return t.eatWhile(a),f("operator",null,t.current());t.eatWhile(/[\w\$_]/);var r=t.current(),i=l.propertyIsEnumerable(r)&&l[r];return i&&e.kwAllowed?f(i.type,i.style,r):f("variable","variable",r)}function h(t){return function(e,n){return u(e,t)||(n.tokenize=c),f("string","string")}}function d(t,e){var n,r=!1;while(n=t.next()){if("/"==n&&r){e.tokenize=c;break}r="*"==n}return f("comment","comment")}var p={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function m(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function g(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0}function v(t,e,n,r,i){var l=t.cc;x.state=t,x.stream=i,x.marked=null,x.cc=l,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);while(1){var a=l.length?l.pop():o?T:z;if(a(n,r)){while(l.length&&l[l.length-1].lex)l.pop()();return x.marked?x.marked:"variable"==n&&g(t,r)?"variable-2":e}}}var x={state:null,column:null,marked:null,cc:null};function y(){for(var t=arguments.length-1;t>=0;t--)x.cc.push(arguments[t])}function k(){return y.apply(null,arguments),!0}function w(t){var e=x.state;if(e.context){x.marked="def";for(var n=e.localVars;n;n=n.next)if(n.name==t)return;e.localVars={name:t,next:e.localVars}}}var C={name:"this",next:{name:"arguments"}};function M(){x.state.context||(x.state.localVars=C),x.state.context={prev:x.state.context,vars:x.state.localVars}}function b(){x.state.localVars=x.state.context.vars,x.state.context=x.state.context.prev}function S(t,e){var n=function(){var n=x.state;n.lexical=new m(n.indented,x.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function L(){var t=x.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function A(t){return function(e){return e==t?k():";"==t?y():k(arguments.callee)}}function z(t){return"var"==t?k(S("vardef"),R,A(";"),L):"keyword a"==t?k(S("form"),T,z,L):"keyword b"==t?k(S("form"),z,L):"{"==t?k(S("}"),O,L):";"==t?k():"function"==t?k(F):"for"==t?k(S("form"),A("("),S(")"),U,A(")"),L,z,L):"variable"==t?k(S("stat"),N):"switch"==t?k(S("form"),T,S("}","switch"),A("{"),O,L,L):"case"==t?k(T,A(":")):"default"==t?k(A(":")):"catch"==t?k(S("form"),M,A("("),j,A(")"),z,L,b):y(S("stat"),T,A(";"),L)}function T(t){return p.hasOwnProperty(t)?k(W):"function"==t?k(F):"keyword c"==t?k(E):"("==t?k(S(")"),T,A(")"),L,W):"operator"==t?k(T):"["==t?k(S("]"),I(T,"]"),L,W):"{"==t?k(S("}"),I(H,"}"),L,W):k()}function E(t){return t.match(/[;\}\)\],]/)?y():y(T)}function W(t,e){return"operator"==t&&/\+\+|--/.test(e)?k(W):"operator"==t?k(T):";"!=t?"("==t?k(S(")"),I(T,")"),L,W):"."==t?k(D,W):"["==t?k(S("]"),T,A("]"),L,W):void 0:void 0}function N(t){return":"==t?k(L,z):y(W,A(";"),L)}function D(t){if("variable"==t)return x.marked="property",k()}function H(t){if("variable"==t&&(x.marked="property"),p.hasOwnProperty(t))return k(A(":"),T)}function I(t,e){function n(r){return","==r?k(t,n):r==e?k():k(A(e))}return function(r){return r==e?k():y(t,n)}}function O(t){return"}"==t?k():y(z,O)}function R(t,e){return"variable"==t?(w(e),k(P)):k()}function P(t,e){return"="==e?k(T,P):","==t?k(R):void 0}function U(t){return"var"==t?k(R,V):";"==t?y(V):"variable"==t?k(B):y(V)}function B(t,e){return"in"==e?k(T):k(W,V)}function V(t,e){return";"==t?k(K):"in"==e?k(T):k(T,A(";"),K)}function K(t){")"!=t&&k(T)}function F(t,e){return"variable"==t?(w(e),k(F)):"("==t?k(S(")"),M,I(j,")"),L,z,b):void 0}function j(t,e){if("variable"==t)return w(e),k()}return L.lex=!0,{startState:function(t){return{tokenize:c,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new m((t||0)-i,0,"block",!1),localVars:null,context:null,indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==n?i:(e.reAllowed="operator"==n||"keyword c"==n||n.match(/^[\[{}\(,;:]$/),e.kwAllowed="."!=n,v(e,i,n,r,t))},indent:function(t,e){if(t.tokenize!=c)return 0;var n=e&&e.charAt(0),r=t.lexical,o=r.type,l=n==o;return"vardef"==o?r.indented+4:"form"==o&&"{"==n?r.indented:"stat"==o||"form"==o?r.indented+i:"switch"!=r.info||l?r.align?r.column+(l?0:1):r.indented+(l?0:i):r.indented+(/^(?:case|default)\b/.test(e)?i:2*i)},electricChars:":{}"}})),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMode("css",(function(t){var e,n=t.indentUnit;function r(t,n){return e=n,t}function i(t,e){var n=t.next();return"@"==n?(t.eatWhile(/[\w\\\-]/),r("meta",t.current())):"/"==n&&t.eat("*")?(e.tokenize=o,o(t,e)):"<"==n&&t.eat("!")?(e.tokenize=l,l(t,e)):"="!=n?"~"!=n&&"|"!=n||!t.eat("=")?'"'==n||"'"==n?(e.tokenize=a(n),e.tokenize(t,e)):"#"==n?(t.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(t.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)?(t.eatWhile(/[\w.%]/),r("number","unit")):/[,.+>*\/]/.test(n)?r(null,"select-op"):/[;{}:\[\]]/.test(n)?r(null,n):(t.eatWhile(/[\w\\\-]/),r("variable","variable")):r(null,"compare"):void r(null,"compare")}function o(t,e){var n,o=!1;while(null!=(n=t.next())){if(o&&"/"==n){e.tokenize=i;break}o="*"==n}return r("comment","comment")}function l(t,e){var n,o=0;while(null!=(n=t.next())){if(o>=2&&">"==n){e.tokenize=i;break}o="-"==n?o+1:0}return r("comment","comment")}function a(t){return function(e,n){var o,l=!1;while(null!=(o=e.next())){if(o==t&&!l)break;l=!l&&"\\"==o}return l||(n.tokenize=i),r("string","string")}}return{startState:function(t){return{tokenize:i,baseIndent:t||0,stack:[]}},token:function(t,n){if(t.eatSpace())return null;var r=n.tokenize(t,n),i=n.stack[n.stack.length-1];return"hash"==e&&"rule"==i?r="atom":"variable"==r&&("rule"==i?r="number":i&&"@media{"!=i||(r="tag")),"rule"==i&&/^[\{\};]$/.test(e)&&n.stack.pop(),"{"==e?"@media"==i?n.stack[n.stack.length-1]="@media{":n.stack.push("{"):"}"==e?n.stack.pop():"@media"==e?n.stack.push("@media"):"{"==i&&"comment"!=e&&n.stack.push("rule"),r},indent:function(t,e){var r=t.stack.length;return/^\}/.test(e)&&(r-="rule"==t.stack[t.stack.length-1]?2:1),t.baseIndent+r*n},electricChars:"}"}})),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",(function(t,e){var n=CodeMirror.getMode(t,{name:"xml",htmlMode:!0}),r=CodeMirror.getMode(t,"javascript"),i=CodeMirror.getMode(t,"css");function o(t,e){var o=n.token(t,e.htmlState);return"tag"==o&&">"==t.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=a,e.localState=r.startState(n.indent(e.htmlState,"")),e.mode="javascript"):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=s,e.localState=i.startState(n.indent(e.htmlState,"")),e.mode="css")),o}function l(t,e,n){var r=t.current(),i=r.search(e);return i>-1&&t.backUp(r.length-i),n}function a(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=o,e.curState=null,e.mode="html",o(t,e)):l(t,/<\/\s*script\s*>/,r.token(t,e.localState))}function s(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=o,e.localState=null,e.mode="html",o(t,e)):l(t,/<\/\s*style\s*>/,i.token(t,e.localState))}return{startState:function(){var t=n.startState();return{token:o,localState:null,mode:"html",htmlState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(t.token==s?i:r,t.localState);return{token:t.token,localState:e,mode:t.mode,htmlState:CodeMirror.copyState(n,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return t.token==o||/^\s*<\//.test(e)?n.indent(t.htmlState,e):t.token==a?r.indent(t.localState,e):i.indent(t.localState,e)},compareStates:function(t,e){return n.compareStates(t.htmlState,e.htmlState)},electricChars:"/{}:"}})),CodeMirror.defineMIME("text/html","htmlmixed");